{"version":3,"file":"AbstractLogger.js","sources":["../../src/shared/AbstractLogger.ts"],"sourcesContent":["import * as LogLevels from '../types/LogLevels';\n\nexport type LoggerOpts = {\n  prefix?: string;\n};\n\nexport abstract class AbstractLogger {\n  private opts: LoggerOpts;\n  private currentLogLevel: LogLevels.LogLevel;\n\n  constructor(opts?: LoggerOpts) {\n    this.opts = opts || {};\n    this.currentLogLevel = this.getDefaultLogLevel();\n  }\n\n  setPrefix(prefix: string) {\n    this.opts.prefix = prefix;\n  }\n\n  setLogLevel(logLevel: LogLevels.LogLevel) {\n    this.currentLogLevel = logLevel;\n  }\n\n  // tslint:disable-next-line:no-any\n  debug(...args: any[]) {\n    this.print(console.debug, LogLevels.DEBUG, args);\n  }\n\n  // tslint:disable-next-line:no-any\n  info(...args: any[]) {\n    this.print(console.info, LogLevels.INFO, args);\n  }\n\n  // tslint:disable-next-line:no-any\n  log(...args: any[]) {\n    this.print(console.log, LogLevels.LOG, args);\n  }\n\n  // tslint:disable-next-line:no-any\n  warn(...args: any[]) {\n    this.print(console.warn, LogLevels.WARN, args);\n  }\n\n  // tslint:disable-next-line:no-any\n  error(...args: any[]) {\n    this.print(console.error, LogLevels.ERROR, args);\n  }\n\n  // tslint:disable-next-line:no-any\n  group(...args: any[]) {\n    this.print(console.group, LogLevels.GROUP, args);\n  }\n\n  // tslint:disable-next-line:no-any\n  groupCollapsed(...args: any[]) {\n    this.print(console.groupCollapsed, LogLevels.GROUP, args);\n  }\n\n  groupEnd() {\n    console.groupEnd();\n  }\n\n  // tslint:disable-next-line:no-any\n  private print(consoleFunc: Function, logLevel: LogLevels.LogLevel, args: any[]) {\n    if (this.currentLogLevel > logLevel) {\n      return;\n    }\n\n    consoleFunc(...this.getArgs(logLevel, args));\n  }\n\n  // tslint:disable-next-line:no-any\n  private getArgs(logLevel: LogLevels.LogLevel, args: any[]): any[] {\n    const prefix = this.getPrefix(logLevel);\n    if (prefix) {\n      return [...prefix, ...args];\n    }\n    return args;\n  }\n\n  private getPrefix(logLevel: LogLevels.LogLevel): string[]|void {\n    if (this.opts.prefix) {\n      return this.colorPrefix(logLevel, this.opts.prefix);\n    }\n  }\n\n  protected getDefaultLogLevel(): LogLevels.LogLevel {\n    return LogLevels.DEBUG;\n  }\n\n  protected abstract colorPrefix(level: LogLevels.LogLevel, prefix: string): string[];\n}\n"],"names":["AbstractLogger","[object Object]","opts","this","currentLogLevel","getDefaultLogLevel","prefix","logLevel","args","print","console","debug","LogLevels","DEBUG","info","INFO","log","LOG","warn","WARN","error","ERROR","group","GROUP","groupCollapsed","groupEnd","consoleFunc","getArgs","getPrefix","colorPrefix","exports"],"mappings":"oEAAA,8CAMA,MAAsBA,eAIpBC,YAAYC,GACVC,KAAKD,KAAOA,GAAQ,GACpBC,KAAKC,gBAAkBD,KAAKE,qBAG9BJ,UAAUK,GACRH,KAAKD,KAAKI,OAASA,EAGrBL,YAAYM,GACVJ,KAAKC,gBAAkBG,EAIzBN,SAASO,GACPL,KAAKM,MAAMC,QAAQC,MAAOC,UAAUC,MAAOL,GAI7CP,QAAQO,GACNL,KAAKM,MAAMC,QAAQI,KAAMF,UAAUG,KAAMP,GAI3CP,OAAOO,GACLL,KAAKM,MAAMC,QAAQM,IAAKJ,UAAUK,IAAKT,GAIzCP,QAAQO,GACNL,KAAKM,MAAMC,QAAQQ,KAAMN,UAAUO,KAAMX,GAI3CP,SAASO,GACPL,KAAKM,MAAMC,QAAQU,MAAOR,UAAUS,MAAOb,GAI7CP,SAASO,GACPL,KAAKM,MAAMC,QAAQY,MAAOV,UAAUW,MAAOf,GAI7CP,kBAAkBO,GAChBL,KAAKM,MAAMC,QAAQc,eAAgBZ,UAAUW,MAAOf,GAGtDP,WACES,QAAQe,WAIFxB,MAAMyB,EAAuBnB,EAA8BC,GAC7DL,KAAKC,gBAAkBG,GAI3BmB,KAAevB,KAAKwB,QAAQpB,EAAUC,IAIhCP,QAAQM,EAA8BC,GAC5C,MAAMF,EAASH,KAAKyB,UAAUrB,GAC9B,OAAID,EACK,IAAIA,KAAWE,GAEjBA,EAGDP,UAAUM,GAChB,GAAIJ,KAAKD,KAAKI,OACZ,OAAOH,KAAK0B,YAAYtB,EAAUJ,KAAKD,KAAKI,QAItCL,qBACR,OAAOW,UAAUC,OAjFrBiB"}